{"version":3,"sources":["assets/scripts/states/state.global.js","node_modules/@vimeo/player/dist/player.es.js","node_modules/typeit/dist/typeit.min.js","assets/scripts/classes/timekeepers.js","assets/scripts/classes/shopHotspot.js","assets/scripts/classes/shopPanel.js","assets/scripts/classes/shopPlayer.js","assets/scripts/modules/app.js"],"names":["global","timing","initDrawDelay","cycleDelay","destinationDelay","panelClickOutDelay","panelDisplayDelay","panelTypeDelay","productOpenDelay","productResolveDelay","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","isNode","toString","call","getMethodName","prop","type","indexOf","toLowerCase","concat","substr","toUpperCase","isDomElement","element","Boolean","nodeType","ownerDocument","defaultView","isInteger","value","isNaN","parseFloat","isFinite","Math","floor","isVimeoUrl","url","test","getVimeoUrl","oEmbedParameters","arguments","undefined","id","idOrUrl","Error","replace","arrayIndexOfSupport","Array","postMessageSupport","window","postMessage","commonjsGlobal","self","createCommonjsModule","fn","module","exports","WeakMap","hasOwnProperty","object","name","genId","checkInstance","isObject","entry","_id","x","methodName","prefix","rand","random","substring","npo_src","UMD","context","definition","DEF","builtInProp","cycle","scheduling_queue","ToString","timer","setImmediate","setTimeout","obj","val","config","err","Queue","first","last","item","Item","next","add","drain","f","schedule","isThenable","o","_then","o_type","then","notify","chain","notifyIsolated","state","success","failure","cb","ret","reject","msg","promise","resolve","triggered","def","def_wrapper","MakeDefWrapper","$resolve$","apply","$reject$","iteratePromises","arr","resolver","rejecter","idx","IIFE","$resolver$","MakeDef","Promise","executor","__NPO__","constructor","extractChain","push","$catch$","publicResolve","publicReject","PromisePrototype","Promise$resolve","Promise$reject","Promise$all","len","msgs","count","Promise$race","callbackMap","storeCallback","player","callback","playerCallbacks","get","set","getCallbacks","removeCallback","index","splice","shiftCallbacks","shift","swapCallbacks","oldElement","newElement","delete","getOEmbedParameters","defaults","reduce","params","param","getAttribute","createEmbed","_ref","html","querySelector","div","document","createElement","innerHTML","appendChild","firstChild","setAttribute","getOEmbedData","videoUrl","encodeURIComponent","xhr","XDomainRequest","XMLHttpRequest","open","onload","status","json","JSON","parse","responseText","domain_status_code","error","onerror","send","initializeEmbeds","parent","elements","slice","querySelectorAll","handleError","console","forEach","data","catch","resizeEmbeds","VimeoPlayerResizeEmbeds_","onMessage","event","origin","iframes","contentWindow","source","space","parentElement","style","paddingBottom","bottom","addEventListener","attachEvent","parseMessageData","warn","method","message","ieVersion","navigator","userAgent","stringify","processData","callbacks","promises","e","playerMap","readyMap","Player","_this","options","jQuery","getElementById","win","nodeName","iframe","has","readyPromise","isError","isReadyError","isReadyEvent","isPingResponse","_originalElement","callMethod","_this2","args","ready","_this3","_this4","on","eventName","off","lastCallback","loadVideo","addCuePoint","time","removeCuePoint","enableTextTrack","language","kind","disableTextTrack","pause","play","unload","destroy","_this5","removeAttribute","parentNode","removeChild","getAutopause","setAutopause","autopause","getBuffered","getColor","setColor","color","getCuePoints","getCurrentTime","setCurrentTime","currentTime","getDuration","getEnded","getLoop","setLoop","loop","setMuted","muted","getMuted","getPaused","getPlaybackRate","setPlaybackRate","playbackRate","getPlayed","getSeekable","getSeeking","getTextTracks","getVideoEmbedCode","getVideoId","getVideoTitle","getVideoWidth","getVideoHeight","getVideoUrl","getVolume","setVolume","volume","RecurringTimer","delay","timerId","start","remaining","clearTimeout","Date","resume","Timer","ShopHotspot","StateGlobal","cycleDuration","hotspotList","hotspotsURL","hotspots","StateHotspots","hooks","app","panel","product","description","brand","price","sale","link","lifecycles","fetch","response","records","map","hotspot","generate","polarity","styles","image","lifecycle","meta","pulseRate","className","dataset","onclick","href","alt","match","src","innerText","classList","animatePanel","animateProduct","keys","rule","display","active","inactive","updatePanel","TypeIt","strings","speed","cursor","startDelay","go","checkProduct","animateProductOn","animateProductOff","checkPanel","checkPolarity","ShopPanel","close","cta","handleClose","handleCta","preventDefault","resolveCta","checkClose","resolveClose","remove","ShopPlayer","host","Event","vimeoplayer","video","dispatchEvent","populate","cycleStart","shopunit","logging","handler","setInterval","isPaused","checkInterval","isFinshed","reset","now","contains","flexFonts","initialize","macro","elem","flexFontInit","flexFontRefresh","preloadImages","clickThroughLink","getFontPerc","relFontsize","offsetWidth","fontSize","currFontSize","getComputedStyle","fontPerc","parseInt","clickThroughConfig","ads","dfpAdID","clickThrough","cacheBust","mraid","imgs","getElementsByTagName","imgArr","imgLoaded","j","imgTotal","Image","clickTag","clickArea","execute"],"mappings":"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","file":"app.4f1967e4.map","sourceRoot":"..","sourcesContent":["/**\n * This module manages the Global State config.\n * @module StateGlobal\n * @property {object}  global.timing                      - global timing values.\n * @property {number}  global.timing.destinationDelay     - destinationDelay timing value.\n * @property {number}  global.timing.panelClickOutDelay   - panelClickOutDelay timing value.\n * @property {number}  global.timing.panelDisplayDelay    - panelDisplayDelay timing value.\n * @property {number}  global.timing.panelTypeDelay       - panelTypeDelay timing value.\n * @property {number}  global.timing.productOpenDelay     - productOpenDelay timing value.\n * @property {number}  global.timing.productResolveDelay  - productResolveDelay timing value.\n */\nconst global = {\n  timing: {\n    initDrawDelay: 1000,\n    cycleDelay: 2000,\n    destinationDelay: 250,\n    panelClickOutDelay: 500,\n    panelDisplayDelay: 250,\n    panelTypeDelay: 500,\n    productOpenDelay: 3000,\n    productResolveDelay: 6000\n  }\n};\nexport default global;\n","/*! @vimeo/player v2.10.0 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\n/**\n * @module lib/functions\n */\n\n/**\n * Check to see this is a node environment.\n * @type {Boolean}\n */\n\n/* global global */\nvar isNode = typeof global !== 'undefined' && {}.toString.call(global) === '[object global]';\n/**\n * Get the name of the method for a given getter or setter.\n *\n * @param {string} prop The name of the property.\n * @param {string} type Either “get” or “set”.\n * @return {string}\n */\n\nfunction getMethodName(prop, type) {\n  if (prop.indexOf(type.toLowerCase()) === 0) {\n    return prop;\n  }\n\n  return \"\".concat(type.toLowerCase()).concat(prop.substr(0, 1).toUpperCase()).concat(prop.substr(1));\n}\n/**\n * Check to see if the object is a DOM Element.\n *\n * @param {*} element The object to check.\n * @return {boolean}\n */\n\nfunction isDomElement(element) {\n  return Boolean(element && element.nodeType === 1 && 'nodeName' in element && element.ownerDocument && element.ownerDocument.defaultView);\n}\n/**\n * Check to see whether the value is a number.\n *\n * @see http://dl.dropboxusercontent.com/u/35146/js/tests/isNumber.html\n * @param {*} value The value to check.\n * @param {boolean} integer Check if the value is an integer.\n * @return {boolean}\n */\n\nfunction isInteger(value) {\n  // eslint-disable-next-line eqeqeq\n  return !isNaN(parseFloat(value)) && isFinite(value) && Math.floor(value) == value;\n}\n/**\n * Check to see if the URL is a Vimeo url.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\n\nfunction isVimeoUrl(url) {\n  return /^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(url);\n}\n/**\n * Get the Vimeo URL from an element.\n * The element must have either a data-vimeo-id or data-vimeo-url attribute.\n *\n * @param {object} oEmbedParameters The oEmbed parameters.\n * @return {string}\n */\n\nfunction getVimeoUrl() {\n  var oEmbedParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var id = oEmbedParameters.id;\n  var url = oEmbedParameters.url;\n  var idOrUrl = id || url;\n\n  if (!idOrUrl) {\n    throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.');\n  }\n\n  if (isInteger(idOrUrl)) {\n    return \"https://vimeo.com/\".concat(idOrUrl);\n  }\n\n  if (isVimeoUrl(idOrUrl)) {\n    return idOrUrl.replace('http:', 'https:');\n  }\n\n  if (id) {\n    throw new TypeError(\"\\u201C\".concat(id, \"\\u201D is not a valid video id.\"));\n  }\n\n  throw new TypeError(\"\\u201C\".concat(idOrUrl, \"\\u201D is not a vimeo.com url.\"));\n}\n\nvar arrayIndexOfSupport = typeof Array.prototype.indexOf !== 'undefined';\nvar postMessageSupport = typeof window !== 'undefined' && typeof window.postMessage !== 'undefined';\n\nif (!isNode && (!arrayIndexOfSupport || !postMessageSupport)) {\n  throw new Error('Sorry, the Vimeo Player API is not available in this browser.');\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/*!\n * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill\n * https://github.com/polygonplanet/weakmap-polyfill\n * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>\n * @license MIT\n */\n(function (self) {\n\n  if (self.WeakMap) {\n    return;\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  var defineProperty = function (object, name, value) {\n    if (Object.defineProperty) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  self.WeakMap = function () {\n    // ECMA-262 23.3 WeakMap Objects\n    function WeakMap() {\n      if (this === void 0) {\n        throw new TypeError(\"Constructor WeakMap requires 'new'\");\n      }\n\n      defineProperty(this, '_id', genId('_WeakMap')); // ECMA-262 23.3.1.1 WeakMap([iterable])\n\n      if (arguments.length > 0) {\n        // Currently, WeakMap `iterable` argument is not supported\n        throw new TypeError('WeakMap iterable is not supported');\n      }\n    } // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)\n\n\n    defineProperty(WeakMap.prototype, 'delete', function (key) {\n      checkInstance(this, 'delete');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        delete key[this._id];\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)\n\n    defineProperty(WeakMap.prototype, 'get', function (key) {\n      checkInstance(this, 'get');\n\n      if (!isObject(key)) {\n        return void 0;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return entry[1];\n      }\n\n      return void 0;\n    }); // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)\n\n    defineProperty(WeakMap.prototype, 'has', function (key) {\n      checkInstance(this, 'has');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)\n\n    defineProperty(WeakMap.prototype, 'set', function (key, value) {\n      checkInstance(this, 'set');\n\n      if (!isObject(key)) {\n        throw new TypeError('Invalid value used as weak map key');\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        entry[1] = value;\n        return this;\n      }\n\n      defineProperty(key, this._id, [key, value]);\n      return this;\n    });\n\n    function checkInstance(x, methodName) {\n      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {\n        throw new TypeError(methodName + ' method called on incompatible receiver ' + typeof x);\n      }\n    }\n\n    function genId(prefix) {\n      return prefix + '_' + rand() + '.' + rand();\n    }\n\n    function rand() {\n      return Math.random().toString().substring(2);\n    }\n\n    defineProperty(WeakMap, '_polyfill', true);\n    return WeakMap;\n  }();\n\n  function isObject(x) {\n    return Object(x) === x;\n  }\n})(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : commonjsGlobal);\n\nvar npo_src = createCommonjsModule(function (module) {\n/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n(function UMD(name, context, definition) {\n  // special form of UMD for polyfilling across evironments\n  context[name] = context[name] || definition();\n\n  if (module.exports) {\n    module.exports = context[name];\n  }\n})(\"Promise\", typeof commonjsGlobal != \"undefined\" ? commonjsGlobal : commonjsGlobal, function DEF() {\n\n  var builtInProp,\n      cycle,\n      scheduling_queue,\n      ToString = Object.prototype.toString,\n      timer = typeof setImmediate != \"undefined\" ? function timer(fn) {\n    return setImmediate(fn);\n  } : setTimeout; // dammit, IE8.\n\n  try {\n    Object.defineProperty({}, \"x\", {});\n\n    builtInProp = function builtInProp(obj, name, val, config) {\n      return Object.defineProperty(obj, name, {\n        value: val,\n        writable: true,\n        configurable: config !== false\n      });\n    };\n  } catch (err) {\n    builtInProp = function builtInProp(obj, name, val) {\n      obj[name] = val;\n      return obj;\n    };\n  } // Note: using a queue instead of array for efficiency\n\n\n  scheduling_queue = function Queue() {\n    var first, last, item;\n\n    function Item(fn, self) {\n      this.fn = fn;\n      this.self = self;\n      this.next = void 0;\n    }\n\n    return {\n      add: function add(fn, self) {\n        item = new Item(fn, self);\n\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n\n        last = item;\n        item = void 0;\n      },\n      drain: function drain() {\n        var f = first;\n        first = last = cycle = void 0;\n\n        while (f) {\n          f.fn.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  }();\n\n  function schedule(fn, self) {\n    scheduling_queue.add(fn, self);\n\n    if (!cycle) {\n      cycle = timer(scheduling_queue.drain);\n    }\n  } // promise duck typing\n\n\n  function isThenable(o) {\n    var _then,\n        o_type = typeof o;\n\n    if (o != null && (o_type == \"object\" || o_type == \"function\")) {\n      _then = o.then;\n    }\n\n    return typeof _then == \"function\" ? _then : false;\n  }\n\n  function notify() {\n    for (var i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n\n    this.chain.length = 0;\n  } // NOTE: This is a separate function to isolate\n  // the `try..catch` so that other code can be\n  // optimized better\n\n\n  function notifyIsolated(self, cb, chain) {\n    var ret, _then;\n\n    try {\n      if (cb === false) {\n        chain.reject(self.msg);\n      } else {\n        if (cb === true) {\n          ret = self.msg;\n        } else {\n          ret = cb.call(void 0, self.msg);\n        }\n\n        if (ret === chain.promise) {\n          chain.reject(TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) {\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n\n  function resolve(msg) {\n    var _then,\n        self = this; // already triggered?\n\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    try {\n      if (_then = isThenable(msg)) {\n        schedule(function () {\n          var def_wrapper = new MakeDefWrapper(self);\n\n          try {\n            _then.call(msg, function $resolve$() {\n              resolve.apply(def_wrapper, arguments);\n            }, function $reject$() {\n              reject.apply(def_wrapper, arguments);\n            });\n          } catch (err) {\n            reject.call(def_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDefWrapper(self), err);\n    }\n  }\n\n  function reject(msg) {\n    var self = this; // already triggered?\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    self.msg = msg;\n    self.state = 2;\n\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (var idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx]).then(function $resolver$(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n\n  function MakeDefWrapper(self) {\n    this.def = self;\n    this.triggered = false;\n  }\n\n  function MakeDef(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = void 0;\n  }\n\n  function Promise(executor) {\n    if (typeof executor != \"function\") {\n      throw TypeError(\"Not a function\");\n    }\n\n    if (this.__NPO__ !== 0) {\n      throw TypeError(\"Not a promise\");\n    } // instance shadowing the inherited \"brand\"\n    // to signal an already \"initialized\" promise\n\n\n    this.__NPO__ = 1;\n    var def = new MakeDef(this);\n\n    this[\"then\"] = function then(success, failure) {\n      var o = {\n        success: typeof success == \"function\" ? success : true,\n        failure: typeof failure == \"function\" ? failure : false\n      }; // Note: `then(..)` itself can be borrowed to be used against\n      // a different promise constructor for making the chained promise,\n      // by substituting a different `this` binding.\n\n      o.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        o.resolve = resolve;\n        o.reject = reject;\n      });\n      def.chain.push(o);\n\n      if (def.state !== 0) {\n        schedule(notify, def);\n      }\n\n      return o.promise;\n    };\n\n    this[\"catch\"] = function $catch$(failure) {\n      return this.then(void 0, failure);\n    };\n\n    try {\n      executor.call(void 0, function publicResolve(msg) {\n        resolve.call(def, msg);\n      }, function publicReject(msg) {\n        reject.call(def, msg);\n      });\n    } catch (err) {\n      reject.call(def, err);\n    }\n  }\n\n  var PromisePrototype = builtInProp({}, \"constructor\", Promise,\n  /*configurable=*/\n  false); // Note: Android 4 cannot use `Object.defineProperty(..)` here\n\n  Promise.prototype = PromisePrototype; // built-in \"brand\" to signal an \"uninitialized\" promise\n\n  builtInProp(PromisePrototype, \"__NPO__\", 0,\n  /*configurable=*/\n  false);\n  builtInProp(Promise, \"resolve\", function Promise$resolve(msg) {\n    var Constructor = this; // spec mandated checks\n    // note: best \"isPromise\" check that's practical for now\n\n    if (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n      return msg;\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      resolve(msg);\n    });\n  });\n  builtInProp(Promise, \"reject\", function Promise$reject(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      reject(msg);\n    });\n  });\n  builtInProp(Promise, \"all\", function Promise$all(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      var len = arr.length,\n          msgs = Array(len),\n          count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  builtInProp(Promise, \"race\", function Promise$race(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n  return Promise;\n});\n});\n\n/**\n * @module lib/callbacks\n */\nvar callbackMap = new WeakMap();\n/**\n * Store a callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @param {(function(this:Player, *): void|{resolve: function, reject: function})} callback\n *        The callback to call or an object with resolve and reject functions for a promise.\n * @return {void}\n */\n\nfunction storeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!(name in playerCallbacks)) {\n    playerCallbacks[name] = [];\n  }\n\n  playerCallbacks[name].push(callback);\n  callbackMap.set(player.element, playerCallbacks);\n}\n/**\n * Get the callbacks for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @return {function[]}\n */\n\nfunction getCallbacks(player, name) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  return playerCallbacks[name] || [];\n}\n/**\n * Remove a stored callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @param {function} [callback] The specific callback to remove.\n * @return {boolean} Was this the last callback?\n */\n\nfunction removeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!playerCallbacks[name]) {\n    return true;\n  } // If no callback is passed, remove all callbacks for the event\n\n\n  if (!callback) {\n    playerCallbacks[name] = [];\n    callbackMap.set(player.element, playerCallbacks);\n    return true;\n  }\n\n  var index = playerCallbacks[name].indexOf(callback);\n\n  if (index !== -1) {\n    playerCallbacks[name].splice(index, 1);\n  }\n\n  callbackMap.set(player.element, playerCallbacks);\n  return playerCallbacks[name] && playerCallbacks[name].length === 0;\n}\n/**\n * Return the first stored callback for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @return {function} The callback, or false if there were none\n */\n\nfunction shiftCallbacks(player, name) {\n  var playerCallbacks = getCallbacks(player, name);\n\n  if (playerCallbacks.length < 1) {\n    return false;\n  }\n\n  var callback = playerCallbacks.shift();\n  removeCallback(player, name, callback);\n  return callback;\n}\n/**\n * Move callbacks associated with an element to another element.\n *\n * @param {HTMLElement} oldElement The old element.\n * @param {HTMLElement} newElement The new element.\n * @return {void}\n */\n\nfunction swapCallbacks(oldElement, newElement) {\n  var playerCallbacks = callbackMap.get(oldElement);\n  callbackMap.set(newElement, playerCallbacks);\n  callbackMap.delete(oldElement);\n}\n\n/**\n * @module lib/embed\n */\nvar oEmbedParameters = ['autopause', 'autoplay', 'background', 'byline', 'color', 'controls', 'dnt', 'height', 'id', 'loop', 'maxheight', 'maxwidth', 'muted', 'playsinline', 'portrait', 'responsive', 'speed', 'texttrack', 'title', 'transparent', 'url', 'width'];\n/**\n * Get the 'data-vimeo'-prefixed attributes from an element as an object.\n *\n * @param {HTMLElement} element The element.\n * @param {Object} [defaults={}] The default values to use.\n * @return {Object<string, string>}\n */\n\nfunction getOEmbedParameters(element) {\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return oEmbedParameters.reduce(function (params, param) {\n    var value = element.getAttribute(\"data-vimeo-\".concat(param));\n\n    if (value || value === '') {\n      params[param] = value === '' ? 1 : value;\n    }\n\n    return params;\n  }, defaults);\n}\n/**\n * Create an embed from oEmbed data inside an element.\n *\n * @param {object} data The oEmbed data.\n * @param {HTMLElement} element The element to put the iframe in.\n * @return {HTMLIFrameElement} The iframe embed.\n */\n\nfunction createEmbed(_ref, element) {\n  var html = _ref.html;\n\n  if (!element) {\n    throw new TypeError('An element must be provided');\n  }\n\n  if (element.getAttribute('data-vimeo-initialized') !== null) {\n    return element.querySelector('iframe');\n  }\n\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  element.appendChild(div.firstChild);\n  element.setAttribute('data-vimeo-initialized', 'true');\n  return element.querySelector('iframe');\n}\n/**\n * Make an oEmbed call for the specified URL.\n *\n * @param {string} videoUrl The vimeo.com url for the video.\n * @param {Object} [params] Parameters to pass to oEmbed.\n * @param {HTMLElement} element The element.\n * @return {Promise}\n */\n\nfunction getOEmbedData(videoUrl) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var element = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    if (!isVimeoUrl(videoUrl)) {\n      throw new TypeError(\"\\u201C\".concat(videoUrl, \"\\u201D is not a vimeo.com url.\"));\n    }\n\n    var url = \"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(videoUrl));\n\n    for (var param in params) {\n      if (params.hasOwnProperty(param)) {\n        url += \"&\".concat(param, \"=\").concat(encodeURIComponent(params[param]));\n      }\n    }\n\n    var xhr = 'XDomainRequest' in window ? new XDomainRequest() : new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onload = function () {\n      if (xhr.status === 404) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D was not found.\")));\n        return;\n      }\n\n      if (xhr.status === 403) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n        return;\n      }\n\n      try {\n        var json = JSON.parse(xhr.responseText); // Check api response for 403 on oembed\n\n        if (json.domain_status_code === 403) {\n          // We still want to create the embed to give users visual feedback\n          createEmbed(json, element);\n          reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n          return;\n        }\n\n        resolve(json);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    xhr.onerror = function () {\n      var status = xhr.status ? \" (\".concat(xhr.status, \")\") : '';\n      reject(new Error(\"There was an error fetching the embed code from Vimeo\".concat(status, \".\")));\n    };\n\n    xhr.send();\n  });\n}\n/**\n * Initialize all embeds within a specific element\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\nfunction initializeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var elements = [].slice.call(parent.querySelectorAll('[data-vimeo-id], [data-vimeo-url]'));\n\n  var handleError = function handleError(error) {\n    if ('console' in window && console.error) {\n      console.error(\"There was an error creating an embed: \".concat(error));\n    }\n  };\n\n  elements.forEach(function (element) {\n    try {\n      // Skip any that have data-vimeo-defer\n      if (element.getAttribute('data-vimeo-defer') !== null) {\n        return;\n      }\n\n      var params = getOEmbedParameters(element);\n      var url = getVimeoUrl(params);\n      getOEmbedData(url, params, element).then(function (data) {\n        return createEmbed(data, element);\n      }).catch(handleError);\n    } catch (error) {\n      handleError(error);\n    }\n  });\n}\n/**\n * Resize embeds when messaged by the player.\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\nfunction resizeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  // Prevent execution if users include the player.js script multiple times.\n  if (window.VimeoPlayerResizeEmbeds_) {\n    return;\n  }\n\n  window.VimeoPlayerResizeEmbeds_ = true;\n\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    } // 'spacechange' is fired only on embeds with cards\n\n\n    if (!event.data || event.data.event !== 'spacechange') {\n      return;\n    }\n\n    var iframes = parent.querySelectorAll('iframe');\n\n    for (var i = 0; i < iframes.length; i++) {\n      if (iframes[i].contentWindow !== event.source) {\n        continue;\n      } // Change padding-bottom of the enclosing div to accommodate\n      // card carousel without distorting aspect ratio\n\n\n      var space = iframes[i].parentElement;\n      space.style.paddingBottom = \"\".concat(event.data.data[0].bottom, \"px\");\n      break;\n    }\n  };\n\n  if (window.addEventListener) {\n    window.addEventListener('message', onMessage, false);\n  } else if (window.attachEvent) {\n    window.attachEvent('onmessage', onMessage);\n  }\n}\n\n/**\n * @module lib/postmessage\n */\n/**\n * Parse a message received from postMessage.\n *\n * @param {*} data The data received from postMessage.\n * @return {object}\n */\n\nfunction parseMessageData(data) {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      // If the message cannot be parsed, throw the error as a warning\n      console.warn(error);\n      return {};\n    }\n  }\n\n  return data;\n}\n/**\n * Post a message to the specified target.\n *\n * @param {Player} player The player object to use.\n * @param {string} method The API method to call.\n * @param {object} params The parameters to send to the player.\n * @return {void}\n */\n\nfunction postMessage(player, method, params) {\n  if (!player.element.contentWindow || !player.element.contentWindow.postMessage) {\n    return;\n  }\n\n  var message = {\n    method: method\n  };\n\n  if (params !== undefined) {\n    message.value = params;\n  } // IE 8 and 9 do not support passing messages, so stringify them\n\n\n  var ieVersion = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/, '$1'));\n\n  if (ieVersion >= 8 && ieVersion < 10) {\n    message = JSON.stringify(message);\n  }\n\n  player.element.contentWindow.postMessage(message, player.origin);\n}\n/**\n * Parse the data received from a message event.\n *\n * @param {Player} player The player that received the message.\n * @param {(Object|string)} data The message data. Strings will be parsed into JSON.\n * @return {void}\n */\n\nfunction processData(player, data) {\n  data = parseMessageData(data);\n  var callbacks = [];\n  var param;\n\n  if (data.event) {\n    if (data.event === 'error') {\n      var promises = getCallbacks(player, data.data.method);\n      promises.forEach(function (promise) {\n        var error = new Error(data.data.message);\n        error.name = data.data.name;\n        promise.reject(error);\n        removeCallback(player, data.data.method, promise);\n      });\n    }\n\n    callbacks = getCallbacks(player, \"event:\".concat(data.event));\n    param = data.data;\n  } else if (data.method) {\n    var callback = shiftCallbacks(player, data.method);\n\n    if (callback) {\n      callbacks.push(callback);\n      param = data.value;\n    }\n  }\n\n  callbacks.forEach(function (callback) {\n    try {\n      if (typeof callback === 'function') {\n        callback.call(player, param);\n        return;\n      }\n\n      callback.resolve(param);\n    } catch (e) {// empty\n    }\n  });\n}\n\nvar playerMap = new WeakMap();\nvar readyMap = new WeakMap();\n\nvar Player =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Player.\n   *\n   * @param {(HTMLIFrameElement|HTMLElement|string|jQuery)} element A reference to the Vimeo\n   *        player iframe, and id, or a jQuery object.\n   * @param {object} [options] oEmbed parameters to use when creating an embed in the element.\n   * @return {Player}\n   */\n  function Player(element) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Player);\n\n    /* global jQuery */\n    if (window.jQuery && element instanceof jQuery) {\n      if (element.length > 1 && window.console && console.warn) {\n        console.warn('A jQuery object with multiple elements was passed, using the first element.');\n      }\n\n      element = element[0];\n    } // Find an element by ID\n\n\n    if (typeof document !== 'undefined' && typeof element === 'string') {\n      element = document.getElementById(element);\n    } // Not an element!\n\n\n    if (!isDomElement(element)) {\n      throw new TypeError('You must pass either a valid element or a valid id.');\n    }\n\n    var win = element.ownerDocument.defaultView; // Already initialized an embed in this div, so grab the iframe\n\n    if (element.nodeName !== 'IFRAME') {\n      var iframe = element.querySelector('iframe');\n\n      if (iframe) {\n        element = iframe;\n      }\n    } // iframe url is not a Vimeo url\n\n\n    if (element.nodeName === 'IFRAME' && !isVimeoUrl(element.getAttribute('src') || '')) {\n      throw new Error('The player element passed isn’t a Vimeo embed.');\n    } // If there is already a player object in the map, return that\n\n\n    if (playerMap.has(element)) {\n      return playerMap.get(element);\n    }\n\n    this.element = element;\n    this.origin = '*';\n    var readyPromise = new npo_src(function (resolve, reject) {\n      var onMessage = function onMessage(event) {\n        if (!isVimeoUrl(event.origin) || _this.element.contentWindow !== event.source) {\n          return;\n        }\n\n        if (_this.origin === '*') {\n          _this.origin = event.origin;\n        }\n\n        var data = parseMessageData(event.data);\n        var isError = data && data.event === 'error';\n        var isReadyError = isError && data.data && data.data.method === 'ready';\n\n        if (isReadyError) {\n          var error = new Error(data.data.message);\n          error.name = data.data.name;\n          reject(error);\n          return;\n        }\n\n        var isReadyEvent = data && data.event === 'ready';\n        var isPingResponse = data && data.method === 'ping';\n\n        if (isReadyEvent || isPingResponse) {\n          _this.element.setAttribute('data-ready', 'true');\n\n          resolve();\n          return;\n        }\n\n        processData(_this, data);\n      };\n\n      if (win.addEventListener) {\n        win.addEventListener('message', onMessage, false);\n      } else if (win.attachEvent) {\n        win.attachEvent('onmessage', onMessage);\n      }\n\n      if (_this.element.nodeName !== 'IFRAME') {\n        var params = getOEmbedParameters(element, options);\n        var url = getVimeoUrl(params);\n        getOEmbedData(url, params, element).then(function (data) {\n          var iframe = createEmbed(data, element); // Overwrite element with the new iframe,\n          // but store reference to the original element\n\n          _this.element = iframe;\n          _this._originalElement = element;\n          swapCallbacks(element, iframe);\n          playerMap.set(_this.element, _this);\n          return data;\n        }).catch(reject);\n      }\n    }); // Store a copy of this Player in the map\n\n    readyMap.set(this, readyPromise);\n    playerMap.set(this.element, this); // Send a ping to the iframe so the ready promise will be resolved if\n    // the player is already ready.\n\n    if (this.element.nodeName === 'IFRAME') {\n      postMessage(this, 'ping');\n    }\n\n    return this;\n  }\n  /**\n   * Get a promise for a method.\n   *\n   * @param {string} name The API method to call.\n   * @param {Object} [args={}] Arguments to send via postMessage.\n   * @return {Promise}\n   */\n\n\n  _createClass(Player, [{\n    key: \"callMethod\",\n    value: function callMethod(name) {\n      var _this2 = this;\n\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new npo_src(function (resolve, reject) {\n        // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n        return _this2.ready().then(function () {\n          storeCallback(_this2, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this2, name, args);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Get a promise for the value of a player property.\n     *\n     * @param {string} name The property name\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var _this3 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'get'); // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n        return _this3.ready().then(function () {\n          storeCallback(_this3, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this3, name);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Get a promise for setting the value of a player property.\n     *\n     * @param {string} name The API method to call.\n     * @param {mixed} value The value to set.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      var _this4 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'set');\n\n        if (value === undefined || value === null) {\n          throw new TypeError('There must be a value to set.');\n        } // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n\n        return _this4.ready().then(function () {\n          storeCallback(_this4, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this4, name, value);\n        }).catch(reject);\n      });\n    }\n    /**\n     * Add an event listener for the specified event. Will call the\n     * callback with a single parameter, `data`, that contains the data for\n     * that event.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function(*)} callback The function to call when the event fires.\n     * @return {void}\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (!callback) {\n        throw new TypeError('You must pass a callback function.');\n      }\n\n      if (typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var callbacks = getCallbacks(this, \"event:\".concat(eventName));\n\n      if (callbacks.length === 0) {\n        this.callMethod('addEventListener', eventName).catch(function () {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n\n      storeCallback(this, \"event:\".concat(eventName), callback);\n    }\n    /**\n     * Remove an event listener for the specified event. Will remove all\n     * listeners for that event if a `callback` isn’t passed, or only that\n     * specific callback if it is passed.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function} [callback] The specific callback to remove.\n     * @return {void}\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (callback && typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var lastCallback = removeCallback(this, \"event:\".concat(eventName), callback); // If there are no callbacks left, remove the listener\n\n      if (lastCallback) {\n        this.callMethod('removeEventListener', eventName).catch(function (e) {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n    }\n    /**\n     * A promise to load a new video.\n     *\n     * @promise LoadVideoPromise\n     * @fulfill {number} The video with this id successfully loaded.\n     * @reject {TypeError} The id was not a number.\n     */\n\n    /**\n     * Load a new video into this embed. The promise will be resolved if\n     * the video is successfully loaded, or it will be rejected if it could\n     * not be loaded.\n     *\n     * @param {number|object} options The id of the video or an object with embed options.\n     * @return {LoadVideoPromise}\n     */\n\n  }, {\n    key: \"loadVideo\",\n    value: function loadVideo(options) {\n      return this.callMethod('loadVideo', options);\n    }\n    /**\n     * A promise to perform an action when the Player is ready.\n     *\n     * @todo document errors\n     * @promise LoadVideoPromise\n     * @fulfill {void}\n     */\n\n    /**\n     * Trigger a function when the player iframe has initialized. You do not\n     * need to wait for `ready` to trigger to begin adding event listeners\n     * or calling other methods.\n     *\n     * @return {ReadyPromise}\n     */\n\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      var readyPromise = readyMap.get(this) || new npo_src(function (resolve, reject) {\n        reject(new Error('Unknown player. Probably unloaded.'));\n      });\n      return npo_src.resolve(readyPromise);\n    }\n    /**\n     * A promise to add a cue point to the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point to use for removeCuePoint.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Add a cue point to the player.\n     *\n     * @param {number} time The time for the cue point.\n     * @param {object} [data] Arbitrary data to be returned with the cue point.\n     * @return {AddCuePointPromise}\n     */\n\n  }, {\n    key: \"addCuePoint\",\n    value: function addCuePoint(time) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.callMethod('addCuePoint', {\n        time: time,\n        data: data\n      });\n    }\n    /**\n     * A promise to remove a cue point from the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point that was removed.\n     * @reject {InvalidCuePoint} The cue point with the specified id was not\n     *         found.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Remove a cue point from the video.\n     *\n     * @param {string} id The id of the cue point to remove.\n     * @return {RemoveCuePointPromise}\n     */\n\n  }, {\n    key: \"removeCuePoint\",\n    value: function removeCuePoint(id) {\n      return this.callMethod('removeCuePoint', id);\n    }\n    /**\n     * A representation of a text track on a video.\n     *\n     * @typedef {Object} VimeoTextTrack\n     * @property {string} language The ISO language code.\n     * @property {string} kind The kind of track it is (captions or subtitles).\n     * @property {string} label The human‐readable label for the track.\n     */\n\n    /**\n     * A promise to enable a text track.\n     *\n     * @promise EnableTextTrackPromise\n     * @fulfill {VimeoTextTrack} The text track that was enabled.\n     * @reject {InvalidTrackLanguageError} No track was available with the\n     *         specified language.\n     * @reject {InvalidTrackError} No track was available with the specified\n     *         language and kind.\n     */\n\n    /**\n     * Enable the text track with the specified language, and optionally the\n     * specified kind (captions or subtitles).\n     *\n     * When set via the API, the track language will not change the viewer’s\n     * stored preference.\n     *\n     * @param {string} language The two‐letter language code.\n     * @param {string} [kind] The kind of track to enable (captions or subtitles).\n     * @return {EnableTextTrackPromise}\n     */\n\n  }, {\n    key: \"enableTextTrack\",\n    value: function enableTextTrack(language, kind) {\n      if (!language) {\n        throw new TypeError('You must pass a language.');\n      }\n\n      return this.callMethod('enableTextTrack', {\n        language: language,\n        kind: kind\n      });\n    }\n    /**\n     * A promise to disable the active text track.\n     *\n     * @promise DisableTextTrackPromise\n     * @fulfill {void} The track was disabled.\n     */\n\n    /**\n     * Disable the currently-active text track.\n     *\n     * @return {DisableTextTrackPromise}\n     */\n\n  }, {\n    key: \"disableTextTrack\",\n    value: function disableTextTrack() {\n      return this.callMethod('disableTextTrack');\n    }\n    /**\n     * A promise to pause the video.\n     *\n     * @promise PausePromise\n     * @fulfill {void} The video was paused.\n     */\n\n    /**\n     * Pause the video if it’s playing.\n     *\n     * @return {PausePromise}\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.callMethod('pause');\n    }\n    /**\n     * A promise to play the video.\n     *\n     * @promise PlayPromise\n     * @fulfill {void} The video was played.\n     */\n\n    /**\n     * Play the video if it’s paused. **Note:** on iOS and some other\n     * mobile devices, you cannot programmatically trigger play. Once the\n     * viewer has tapped on the play button in the player, however, you\n     * will be able to use this function.\n     *\n     * @return {PlayPromise}\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      return this.callMethod('play');\n    }\n    /**\n     * A promise to unload the video.\n     *\n     * @promise UnloadPromise\n     * @fulfill {void} The video was unloaded.\n     */\n\n    /**\n     * Return the player to its initial state.\n     *\n     * @return {UnloadPromise}\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      return this.callMethod('unload');\n    }\n    /**\n     * Cleanup the player and remove it from the DOM\n     *\n     * It won't be usable and a new one should be constructed\n     *  in order to do any operations.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n\n      return new npo_src(function (resolve) {\n        readyMap.delete(_this5);\n        playerMap.delete(_this5.element);\n\n        if (_this5._originalElement) {\n          playerMap.delete(_this5._originalElement);\n\n          _this5._originalElement.removeAttribute('data-vimeo-initialized');\n        }\n\n        if (_this5.element && _this5.element.nodeName === 'IFRAME' && _this5.element.parentNode) {\n          _this5.element.parentNode.removeChild(_this5.element);\n        }\n\n        resolve();\n      });\n    }\n    /**\n     * A promise to get the autopause behavior of the video.\n     *\n     * @promise GetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get the autopause behavior for this player.\n     *\n     * @return {GetAutopausePromise}\n     */\n\n  }, {\n    key: \"getAutopause\",\n    value: function getAutopause() {\n      return this.get('autopause');\n    }\n    /**\n     * A promise to set the autopause behavior of the video.\n     *\n     * @promise SetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Enable or disable the autopause behavior of this player.\n     *\n     * By default, when another video is played in the same browser, this\n     * player will automatically pause. Unless you have a specific reason\n     * for doing so, we recommend that you leave autopause set to the\n     * default (`true`).\n     *\n     * @param {boolean} autopause\n     * @return {SetAutopausePromise}\n     */\n\n  }, {\n    key: \"setAutopause\",\n    value: function setAutopause(autopause) {\n      return this.set('autopause', autopause);\n    }\n    /**\n     * A promise to get the buffered property of the video.\n     *\n     * @promise GetBufferedPromise\n     * @fulfill {Array} Buffered Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the buffered property of the video.\n     *\n     * @return {GetBufferedPromise}\n     */\n\n  }, {\n    key: \"getBuffered\",\n    value: function getBuffered() {\n      return this.get('buffered');\n    }\n    /**\n     * A promise to get the color of the player.\n     *\n     * @promise GetColorPromise\n     * @fulfill {string} The hex color of the player.\n     */\n\n    /**\n     * Get the color for this player.\n     *\n     * @return {GetColorPromise}\n     */\n\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      return this.get('color');\n    }\n    /**\n     * A promise to set the color of the player.\n     *\n     * @promise SetColorPromise\n     * @fulfill {string} The color was successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n\n    /**\n     * Set the color of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     *\n     * @param {string} color The hex or rgb color string to set.\n     * @return {SetColorPromise}\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      return this.set('color', color);\n    }\n    /**\n     * A representation of a cue point.\n     *\n     * @typedef {Object} VimeoCuePoint\n     * @property {number} time The time of the cue point.\n     * @property {object} data The data passed when adding the cue point.\n     * @property {string} id The unique id for use with removeCuePoint.\n     */\n\n    /**\n     * A promise to get the cue points of a video.\n     *\n     * @promise GetCuePointsPromise\n     * @fulfill {VimeoCuePoint[]} The cue points added to the video.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get an array of the cue points added to the video.\n     *\n     * @return {GetCuePointsPromise}\n     */\n\n  }, {\n    key: \"getCuePoints\",\n    value: function getCuePoints() {\n      return this.get('cuePoints');\n    }\n    /**\n     * A promise to get the current time of the video.\n     *\n     * @promise GetCurrentTimePromise\n     * @fulfill {number} The current time in seconds.\n     */\n\n    /**\n     * Get the current playback position in seconds.\n     *\n     * @return {GetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.get('currentTime');\n    }\n    /**\n     * A promise to set the current time of the video.\n     *\n     * @promise SetCurrentTimePromise\n     * @fulfill {number} The actual current time that was set.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     */\n\n    /**\n     * Set the current playback position in seconds. If the player was\n     * paused, it will remain paused. Likewise, if the player was playing,\n     * it will resume playing once the video has buffered.\n     *\n     * You can provide an accurate time and the player will attempt to seek\n     * to as close to that time as possible. The exact time will be the\n     * fulfilled value of the promise.\n     *\n     * @param {number} currentTime\n     * @return {SetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime) {\n      return this.set('currentTime', currentTime);\n    }\n    /**\n     * A promise to get the duration of the video.\n     *\n     * @promise GetDurationPromise\n     * @fulfill {number} The duration in seconds.\n     */\n\n    /**\n     * Get the duration of the video in seconds. It will be rounded to the\n     * nearest second before playback begins, and to the nearest thousandth\n     * of a second after playback begins.\n     *\n     * @return {GetDurationPromise}\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.get('duration');\n    }\n    /**\n     * A promise to get the ended state of the video.\n     *\n     * @promise GetEndedPromise\n     * @fulfill {boolean} Whether or not the video has ended.\n     */\n\n    /**\n     * Get the ended state of the video. The video has ended if\n     * `currentTime === duration`.\n     *\n     * @return {GetEndedPromise}\n     */\n\n  }, {\n    key: \"getEnded\",\n    value: function getEnded() {\n      return this.get('ended');\n    }\n    /**\n     * A promise to get the loop state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the player is set to loop.\n     */\n\n    /**\n     * Get the loop state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getLoop\",\n    value: function getLoop() {\n      return this.get('loop');\n    }\n    /**\n     * A promise to set the loop state of the player.\n     *\n     * @promise SetLoopPromise\n     * @fulfill {boolean} The loop state that was set.\n     */\n\n    /**\n     * Set the loop state of the player. When set to `true`, the player\n     * will start over immediately once playback ends.\n     *\n     * @param {boolean} loop\n     * @return {SetLoopPromise}\n     */\n\n  }, {\n    key: \"setLoop\",\n    value: function setLoop(loop) {\n      return this.set('loop', loop);\n    }\n    /**\n     * A promise to set the muted state of the player.\n     *\n     * @promise SetMutedPromise\n     * @fulfill {boolean} The muted state that was set.\n     */\n\n    /**\n     * Set the muted state of the player. When set to `true`, the player\n     * volume will be muted.\n     *\n     * @param {boolean} muted\n     * @return {SetMutedPromise}\n     */\n\n  }, {\n    key: \"setMuted\",\n    value: function setMuted(muted) {\n      return this.set('muted', muted);\n    }\n    /**\n     * A promise to get the muted state of the player.\n     *\n     * @promise GetMutedPromise\n     * @fulfill {boolean} Whether or not the player is muted.\n     */\n\n    /**\n     * Get the muted state of the player.\n     *\n     * @return {GetMutedPromise}\n     */\n\n  }, {\n    key: \"getMuted\",\n    value: function getMuted() {\n      return this.get('muted');\n    }\n    /**\n     * A promise to get the paused state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the video is paused.\n     */\n\n    /**\n     * Get the paused state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getPaused\",\n    value: function getPaused() {\n      return this.get('paused');\n    }\n    /**\n     * A promise to get the playback rate of the player.\n     *\n     * @promise GetPlaybackRatePromise\n     * @fulfill {number} The playback rate of the player on a scale from 0.5 to 2.\n     */\n\n    /**\n     * Get the playback rate of the player on a scale from `0.5` to `2`.\n     *\n     * @return {GetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.get('playbackRate');\n    }\n    /**\n     * A promise to set the playbackrate of the player.\n     *\n     * @promise SetPlaybackRatePromise\n     * @fulfill {number} The playback rate was set.\n     * @reject {RangeError} The playback rate was less than 0.5 or greater than 2.\n     */\n\n    /**\n     * Set the playback rate of the player on a scale from `0.5` to `2`. When set\n     * via the API, the playback rate will not be synchronized to other\n     * players or stored as the viewer's preference.\n     *\n     * @param {number} playbackRate\n     * @return {SetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(playbackRate) {\n      return this.set('playbackRate', playbackRate);\n    }\n    /**\n     * A promise to get the played property of the video.\n     *\n     * @promise GetPlayedPromise\n     * @fulfill {Array} Played Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the played property of the video.\n     *\n     * @return {GetPlayedPromise}\n     */\n\n  }, {\n    key: \"getPlayed\",\n    value: function getPlayed() {\n      return this.get('played');\n    }\n    /**\n     * A promise to get the seekable property of the video.\n     *\n     * @promise GetSeekablePromise\n     * @fulfill {Array} Seekable Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the seekable property of the video.\n     *\n     * @return {GetSeekablePromise}\n     */\n\n  }, {\n    key: \"getSeekable\",\n    value: function getSeekable() {\n      return this.get('seekable');\n    }\n    /**\n     * A promise to get the seeking property of the player.\n     *\n     * @promise GetSeekingPromise\n     * @fulfill {boolean} Whether or not the player is currently seeking.\n     */\n\n    /**\n     * Get if the player is currently seeking.\n     *\n     * @return {GetSeekingPromise}\n     */\n\n  }, {\n    key: \"getSeeking\",\n    value: function getSeeking() {\n      return this.get('seeking');\n    }\n    /**\n     * A promise to get the text tracks of a video.\n     *\n     * @promise GetTextTracksPromise\n     * @fulfill {VimeoTextTrack[]} The text tracks associated with the video.\n     */\n\n    /**\n     * Get an array of the text tracks that exist for the video.\n     *\n     * @return {GetTextTracksPromise}\n     */\n\n  }, {\n    key: \"getTextTracks\",\n    value: function getTextTracks() {\n      return this.get('textTracks');\n    }\n    /**\n     * A promise to get the embed code for the video.\n     *\n     * @promise GetVideoEmbedCodePromise\n     * @fulfill {string} The `<iframe>` embed code for the video.\n     */\n\n    /**\n     * Get the `<iframe>` embed code for the video.\n     *\n     * @return {GetVideoEmbedCodePromise}\n     */\n\n  }, {\n    key: \"getVideoEmbedCode\",\n    value: function getVideoEmbedCode() {\n      return this.get('videoEmbedCode');\n    }\n    /**\n     * A promise to get the id of the video.\n     *\n     * @promise GetVideoIdPromise\n     * @fulfill {number} The id of the video.\n     */\n\n    /**\n     * Get the id of the video.\n     *\n     * @return {GetVideoIdPromise}\n     */\n\n  }, {\n    key: \"getVideoId\",\n    value: function getVideoId() {\n      return this.get('videoId');\n    }\n    /**\n     * A promise to get the title of the video.\n     *\n     * @promise GetVideoTitlePromise\n     * @fulfill {number} The title of the video.\n     */\n\n    /**\n     * Get the title of the video.\n     *\n     * @return {GetVideoTitlePromise}\n     */\n\n  }, {\n    key: \"getVideoTitle\",\n    value: function getVideoTitle() {\n      return this.get('videoTitle');\n    }\n    /**\n     * A promise to get the native width of the video.\n     *\n     * @promise GetVideoWidthPromise\n     * @fulfill {number} The native width of the video.\n     */\n\n    /**\n     * Get the native width of the currently‐playing video. The width of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoWidthPromise}\n     */\n\n  }, {\n    key: \"getVideoWidth\",\n    value: function getVideoWidth() {\n      return this.get('videoWidth');\n    }\n    /**\n     * A promise to get the native height of the video.\n     *\n     * @promise GetVideoHeightPromise\n     * @fulfill {number} The native height of the video.\n     */\n\n    /**\n     * Get the native height of the currently‐playing video. The height of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoHeightPromise}\n     */\n\n  }, {\n    key: \"getVideoHeight\",\n    value: function getVideoHeight() {\n      return this.get('videoHeight');\n    }\n    /**\n     * A promise to get the vimeo.com url for the video.\n     *\n     * @promise GetVideoUrlPromise\n     * @fulfill {number} The vimeo.com url for the video.\n     * @reject {PrivacyError} The url isn’t available because of the video’s privacy setting.\n     */\n\n    /**\n     * Get the vimeo.com url for the video.\n     *\n     * @return {GetVideoUrlPromise}\n     */\n\n  }, {\n    key: \"getVideoUrl\",\n    value: function getVideoUrl() {\n      return this.get('videoUrl');\n    }\n    /**\n     * A promise to get the volume level of the player.\n     *\n     * @promise GetVolumePromise\n     * @fulfill {number} The volume level of the player on a scale from 0 to 1.\n     */\n\n    /**\n     * Get the current volume level of the player on a scale from `0` to `1`.\n     *\n     * Most mobile devices do not support an independent volume from the\n     * system volume. In those cases, this method will always return `1`.\n     *\n     * @return {GetVolumePromise}\n     */\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.get('volume');\n    }\n    /**\n     * A promise to set the volume level of the player.\n     *\n     * @promise SetVolumePromise\n     * @fulfill {number} The volume was set.\n     * @reject {RangeError} The volume was less than 0 or greater than 1.\n     */\n\n    /**\n     * Set the volume of the player on a scale from `0` to `1`. When set\n     * via the API, the volume level will not be synchronized to other\n     * players or stored as the viewer’s preference.\n     *\n     * Most mobile devices do not support setting the volume. An error will\n     * *not* be triggered in that situation.\n     *\n     * @param {number} volume\n     * @return {SetVolumePromise}\n     */\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      return this.set('volume', volume);\n    }\n  }]);\n\n  return Player;\n}(); // Setup embed only if this is not a node environment\n\n\nif (!isNode) {\n  initializeEmbeds();\n  resizeEmbeds();\n}\n\nexport default Player;\n","/*!\n * \n *   typeit - The most versatile animated typing utility on the planet.\n *   Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)\n *   Version: v6.0.3\n *   URL: https://typeitjs.com\n *   License: GPL-2.0\n * \n */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.TypeIt=e():t.TypeIt=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);var i={strings:[],speed:100,cursor:!0,cursorChar:\"|\",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:null,html:!0,waitUntilVisible:!1,beforeString:!1,afterString:!1,beforeStep:!1,afterStep:!1,afterComplete:!1};function r(t){var e=t.getBoundingClientRect();return!(e.right>window.innerWidth||e.bottom>window.innerHeight)&&!(e.top<0||e.left<0)}function o(t,e){return Math.abs(Math.random()*(t+e-(t-e))+(t-e))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=document.createElement(\"style\");n.id=e,n.appendChild(document.createTextNode(t)),document.head.appendChild(n)}var a=function(t,e){for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},u=function(t){return[\"textarea\",\"input\"].indexOf(t.tagName.toLowerCase())>-1},l=function(t){return Array.isArray(t)?t.slice(0):t.split(\"<br>\")};function c(t){return t.replace(/&(.+);/,function(t){var e=document.createElement(\"textarea\");return e.innerHTML=t,e.value})}function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var h=\"{%}\";var p=function(t){var e=function(t){var e=(new DOMParser).parseFromString(t,\"text/html\"),n=[].slice.call(e.body.querySelectorAll(\"*\"));return(n=n.filter(function(e){return!(e.outerHTML.indexOf(\"></\")>-1&&(t=t.replace(e.outerHTML,\"\"),1))})).forEach(function(e){t=t.replace(new RegExp(\"<\".concat(e.tagName,\"(.*?)/?>((.*?)</\").concat(e.tagName,\">)?\"),\"i\"),h)}),{string:t,nodes:n}}(t),n=e.string,i=e.nodes,r=c(n).split(\"\"),o=[];return r.forEach(function(t,e){if(r.slice(e,e+3).join(\"\")===h){var n=e,s=i.shift(),a=c(s.innerHTML).split(\"\"),u=[].slice.call(s.attributes).map(function(t){return{name:t.name,value:t.nodeValue}});a.length?a.forEach(function(t,i){o.push({tag:s.tagName,attributes:u,content:t,isFirstCharacter:n===e,isLastCharacter:i+1===a.length}),n++}):o.push({tag:s.tagName,attributes:u,content:null})}else o.push(t)}),o=function(t){for(var e=!0;e;)t.some(function(e,n){return!(\"object\"!==f(e)||!e.isLastCharacter&&null!==e.content||\"%}\"!==t.slice(n+1,n+3).join(\"\")||(t.splice(n+1,2),0))})||(e=!1);return t}(o)},d=function(t){var e=t.tag,n=t.attributes,i=void 0===n?[]:n,r=t.content,o=void 0===r?\"\":r,s=document.createElement(e);return void 0!==i&&i.forEach(function(t){s.setAttribute(t.name,t.value)}),o&&(s.innerHTML=o),s.outerHTML},y=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.value=\"\":[].slice.call(t.childNodes).forEach(function(e){void 0!==e.classList&&e.classList.contains(\"ti-wrapper\")&&(t.innerHTML=\"\")})};function v(t){return(v=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.executed=[],this.waiting=e,!e.length&&n&&this.add(n)}var e,n,i;return e=t,(n=[{key:\"add\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.waiting[e?\"unshift\":\"push\"](t),this}},{key:\"delete\",value:function(t){return this.waiting.splice(t,1),this}},{key:\"reset\",value:function(){return this.waiting=[].concat(g(this.executed),g(this.waiting)),this.executed=[],this}}])&&m(e.prototype,n),i&&m(e,i),t}();function w(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var k=\"display:inline;position:relative;font:inherit;color:inherit;line-height:inherit;\",q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.element,r=e.id,o=e.options,s=e.queue,c=void 0===s?[]:s;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.status={started:!1,complete:!1,frozen:!1,destroyed:!1},this.timeouts=[],this.id=r,this.$e=n,this.isInput=u(n),this.opts=a({},i,o),this.opts.strings=l(this.opts.strings),this.opts.html=!this.isInput&&this.opts.html,this.queue=new b(c,[this.pause,this.opts.startDelay]),y(n,this.isInput),this.prepareDelay(\"nextStringDelay\"),this.prepareDelay(\"loopDelay\");var f=this.$e.innerHTML;this.prepDOM(),this.handleHardCoded(f),this.opts.strings=this.opts.strings.map(function(t){return t.replace(/<\\!--.*?-->/g,\"\")}),!this.opts.strings.length||this.queue.waiting.length>1||this.generateQueue()}var e,n,c;return e=t,(n=[{key:\"reset\",value:function(){return this.queue.reset(),new t({element:this.$e,id:this.id,options:this.opts,queue:this.queue.waiting})}},{key:\"init\",value:function(){var t=this;if(!this.status.started){if(this.cursor(),!this.opts.waitUntilVisible||r(this.$e))return this.status.started=!0,this.fire();window.addEventListener(\"scroll\",function e(){r(t.$e)&&!t.status.started&&(t.fire(),window.removeEventListener(\"scroll\",e))})}}},{key:\"fire\",value:function(){for(var t=this,e=this.queue.waiting.slice(),n=Promise.resolve(),i=function(i){var r=e[i],o=[r,t.queue,t];n=n.then(function(){return new Promise(function(e,n){if(t.status.frozen)return n();var i,s;(t.setPace(),r[2]&&r[2].isFirst&&t.opts.beforeString)&&(i=t.opts).beforeString.apply(i,o);t.opts.beforeStep&&(s=t.opts).beforeStep.apply(s,o);r[0].call(t,r[1],r[2]).then(function(){var n,i,s=t.queue.waiting.shift();if(r[2]&&r[2].isPhantom)return e();r[2]&&r[2].isLast&&t.opts.afterString&&(n=t.opts).afterString.apply(n,o);t.opts.afterStep&&(i=t.opts).afterStep.apply(i,o);return t.queue.executed.push(s),e()})})})},r=0;r<e.length;r++)i(r);n.then(function(){if(t.opts.loop){var e=t.opts.loopDelay?t.opts.loopDelay:t.opts.nextStringDelay;t.wait(function(){t.loopify(e),t.fire()},e.after)}t.status.completed=!0,t.opts.afterComplete&&t.opts.afterComplete(t)}).catch(function(){})}},{key:\"loopify\",value:function(t){var e=this;this.queue.reset().delete(0).add([this.pause,t.before],!0),this.getNoderized().forEach(function(t){e.queue.add([e.delete,null,{isPhantom:!0}],!0)})}},{key:\"prepDOM\",value:function(){this.isInput||(this.$e.innerHTML='\\n      <span style=\"'.concat(k,'\" class=\"ti-wrapper\">\\n        <span style=\"').concat(k,'\" class=\"ti-container\"></span>\\n      </span>\\n      '),this.$e.setAttribute(\"data-typeit-id\",this.id),this.$eContainer=this.$e.querySelector(\".ti-container\"),this.$eWrapper=this.$e.querySelector(\".ti-wrapper\"),s(\"\\n        .\".concat(this.$eContainer.className,\":before {\\n          content: '.';\\n          display: inline-block;\\n          width: 0;\\n          visibility: hidden;\\n        }\\n      \")))}},{key:\"setContents\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";this.isInput?this.$e.value=t:this.$eContainer[this.opts.html?\"innerHTML\":\"innerText\"]=t}},{key:\"getRaw\",value:function(){return this.isInput?this.$e.value:this.opts.html?this.$eContainer.innerHTML:this.$eContainer.innerText}},{key:\"getNoderized\",value:function(){return this.maybeNoderize(this.getRaw())}},{key:\"prepareDelay\",value:function(t){var e=this.opts[t];if(e){var n=Array.isArray(e),i=n?null:e/2;this.opts[t]={before:n?e[0]:i,after:n?e[1]:i,total:n?e[0]+e[1]:e}}}},{key:\"generateQueue\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.queue.add(e),this.opts.strings.forEach(function(e,n){t.queueString(e);var i=t.queue.waiting.length;if(n+1!==t.opts.strings.length){if(t.opts.breakLines)return t.queue.add([t.type,\"<br>\"]),void t.addSplitPause(i);t.queueDeletions(e),t.addSplitPause(i,e.length)}})}},{key:\"queueDeletions\",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=\"string\"==typeof t?this.maybeNoderize(t).length:t,n=0;n<e;n++)this.queue.add([this.delete])}},{key:\"maybeNoderize\",value:function(t){return this.opts.html?p(t):t.split(\"\")}},{key:\"queueString\",value:function(t){var e=this,n=(t=this.maybeNoderize(t)).length;t.forEach(function(t,i){var r=[e.type,t];0===i&&r.push({isFirst:!0}),i+1===n&&r.push({isLast:!0}),e.queue.add(r)})}},{key:\"addSplitPause\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.queue.waiting.splice(t,0,[this.pause,this.opts.nextStringDelay.before]),this.queue.waiting.splice(t+e+1,0,[this.pause,this.opts.nextStringDelay.after])}},{key:\"cursor\",value:function(){if(!this.isInput){var t=\"display: none;\";this.opts.cursor&&(s(\"\\n        @keyframes blink-\".concat(this.id,\" {\\n          0% {opacity: 0}\\n          49% {opacity: 0}\\n          50% {opacity: 1}\\n        }\\n\\n        [data-typeit-id='\").concat(this.id,\"'] .ti-cursor {\\n          animation: blink-\").concat(this.id,\" \").concat(this.opts.cursorSpeed/1e3,\"s infinite;\\n        }\\n      \"),this.id),t=\"\"),this.$eWrapper.insertAdjacentHTML(\"beforeend\",'<span style=\"'.concat(k).concat(t,'left: -.25ch;\" class=\"ti-cursor\">').concat(this.opts.cursorChar,\"</span>\"))}}},{key:\"insert\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isInput?this.$e.value=\"\".concat(this.$e.value).concat(t):((e?this.$eContainer.lastChild:this.$eContainer).insertAdjacentHTML(\"beforeend\",t),this.setContents(this.getRaw().split(\"\").join(\"\")))}},{key:\"handleHardCoded\",value:function(t){return!!t.length&&(this.opts.startDelete?(this.insert(t),this.queue.add([this.delete,!0]),void this.addSplitPause(1)):void(this.opts.strings=[].concat(w(l(t.trim())),w(this.opts.strings))))}},{key:\"wait\",value:function(t,e){this.timeouts.push(setTimeout(t,e))}},{key:\"setPace\",value:function(){var t=this.opts.speed,e=null!==this.opts.deleteSpeed?this.opts.deleteSpeed:this.opts.speed/3,n=t/2,i=e/2;this.typePace=this.opts.lifeLike?o(t,n):t,this.deletePace=this.opts.lifeLike?o(e,i):e}},{key:\"pause\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n,i){t.wait(function(){return n()},e||t.opts.nextStringDelay.total)})}},{key:\"type\",value:function(t){var e=this;return new Promise(function(n,i){e.wait(function(){return\"string\"==typeof t?(e.insert(t),n()):t.isFirstCharacter||null===t.content?(e.insert(d({tag:t.tag,attributes:t.attributes,content:t.content})),n()):(e.insert(t.content,!0),n())},e.typePace)})}},{key:\"empty\",value:function(){var t=this;return new Promise(function(e){return t.setContents(\"\"),e()})}},{key:\"delete\",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n,i){t.wait(function(){var i=t.getNoderized();return i.splice(-1,1),i=function(t){return(t=t.map(function(e,n){if(\"object\"===v(e)&&(e.isFirstCharacter||null===e.content)){for(var i=n,r=[e.content],o=!1;!o;){var s=t[++i];void 0!==s&&r.push(s.content),(void 0===s||s.isLastCharacter)&&(o=!0)}return d({tag:e.tag,attributes:e.attributes,content:r.join(\"\")})}return e})).filter(function(t){return\"object\"!==v(t)})}(i),t.setContents(i.join(\"\")),e&&i.length>0?t.delete(!0).then(function(){return n()}):n()},t.deletePace)})}},{key:\"setOptions\",value:function(t){var e=this;return new Promise(function(n){return e.opts=a({},e.opts,t),n()})}}])&&S(e.prototype,n),c&&S(e,c),t}(),C=function(t){return\"string\"==typeof t?t=document.querySelectorAll(t):t instanceof NodeList||(t=[t]),[].slice.call(t)};function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.d(e,\"default\",function(){return x});var x=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.instances=C(e).map(function(t){return new q({element:t,id:Math.random().toString(36).substring(2,15),options:n,queue:[]})})}var e,n,i;return e=t,(n=[{key:\"each\",value:function(t){var e=this;this.instances.forEach(function(n){t.call(e,n)})}},{key:\"queueUp\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.each(function(r){for(var o=\"string\"!=typeof t,s=o?t:r[t],a=o?e:n,u=0;u<i;u++)r.queue.add([s,a])})}},{key:\"is\",value:function(t){return e=this.instances,n=t,i=!0,!!e.length&&e.filter(function(t){return t.status[n]===i}).length===e.length;var e,n,i}},{key:\"freeze\",value:function(){this.each(function(t){t.status.frozen=!0})}},{key:\"unfreeze\",value:function(){this.each(function(t){t.status.frozen&&(t.status.frozen=!1,t.fire())})}},{key:\"type\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return this.each(function(e){return e.queueString(t)}),this}},{key:\"delete\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.queueUp(\"delete\",null===t,null===t?1:t),this}},{key:\"pause\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.queueUp(\"pause\",t),this}},{key:\"break\",value:function(){return this.queueUp(\"type\",\"<br>\"),this}},{key:\"options\",value:function(t){return this.queueUp(\"setOptions\",t),this}},{key:\"exec\",value:function(t){return this.queueUp(t),this}},{key:\"destroy\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.each(function(e){e.timeouts.forEach(function(t){clearTimeout(t)}),e.timeouts=[];var n=e.isInput?null:e.$eWrapper.querySelector(\".ti-cursor\");t&&e.opts.cursor&&null!==n&&e.$eWrapper.removeChild(n),e.status.destroyed=!0})}},{key:\"empty\",value:function(){return this.queueUp(\"empty\"),this}},{key:\"reset\",value:function(){return this.destroy(),this.instances=this.instances.map(function(t){return t.reset()}),this}},{key:\"go\",value:function(){return this.each(function(t){t.init()}),this}}])&&j(e.prototype,n),i&&j(e,i),t}()}]).default});","class RecurringTimer {\n  constructor(callback, delay) {\n    let timerId;\n    let start;\n    let remaining = delay;\n\n    this.pause = function() {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n\n    const resume = function() {\n      start = new Date();\n      timerId = window.setTimeout(function() {\n        remaining = delay;\n        resume();\n        callback();\n      }, remaining);\n    };\n\n    this.resume = resume;\n  }\n}\n\nclass Timer {\n  constructor(callback, delay) {\n    let timerId;\n    let start;\n    let remaining = delay;\n    this.pause = function() {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n    this.resume = function() {\n      start = new Date();\n      window.clearTimeout(timerId);\n      timerId = window.setTimeout(callback, remaining);\n    };\n    this.resume();\n  }\n}\n\nexport { RecurringTimer, Timer };\n","import TypeIt from 'typeit';\nimport StateHotspots from '../data/hotspots.json';\nimport StateGlobal from '../states/state.global';\nimport { Timer } from './timekeepers';\n\nexport default class ShopHotspot {\n  /**\n   * The ShopHotspot Class.\n   * Property (constructor) in ShopHotspot which creates the class object. This module manages the ShopHotspot logic. This module requires the modules {@link module:StateGlobal} {@link module:TypeIt}.\n   * @classdesc This is a description of the ShopHotspot class.\n   * @member {Function} ShopHotspot\n   * @access public\n   * @constructs\n   * @requires module:StateGlobal\n   * @requires module:TypeIt\n   * @param {null} None no parameter\n   * @example\n   * new ShopHotspot()\n   * @returns {Class} ShopHotspot\n   * @throws will never throw an error.\n   * @property {object}  ShopHotspot.state        \t\t\t\t\t\t  - ShopHotspot state object\n   * @property {number}  ShopHotspot.state.initDrawDelay       - ShopHotspot init Draw Delay\n   * @property {number}  ShopHotspot.state.cycleDelay        \t- ShopHotspot cycle Delay\n   * @property {number}  ShopHotspot.state.cycleDuration       - ShopHotspot cycle Duration\n   * @property {number}  ShopHotspot.state.panelDisplayDelay   - ShopHotspot panel Display Delay\n   * @property {object}  ShopHotspot.state.hooks        \t\t\t  - ShopHotspot DOM elements\n   * @property {element}  ShopHotspot.state.hooks.panel       \t- DOM element for shopHotspot panel\n   * @property {element}  ShopHotspot.state.hooks.product      - DOM element for shopHotspot product element\n   * @property {element}  ShopHotspot.state.hooks.description \t- DOM element for shopHotspot product description\n   * @property {element}  ShopHotspot.state.hooks.brand       \t- DOM element for shopHotspot product brand\n   * @property {element}  ShopHotspot.state.hooks.price       \t- DOM element for shopHotspot product price\n   * @property {element}  ShopHotspot.state.hooks.sale         - DOM element for shopHotspot product price sale attribute\n   * @property {element}  ShopHotspot.state.hooks.link         - DOM element for shopHotspot link\n   * @author Alex Reid <https://github.com/aareid10>\n   * @see {@link http://github.com|https://code.espn.com/CreativeWorks-Internal/creativeworks-templates/tree/master/ads/vertical-shoppable-banner|GitHub Repo}\n   * @since 1.0.0\n   */\n  constructor() {\n    this.state = {};\n    this.state.initDrawDelay = StateGlobal.timing.initDrawDelay;\n    this.state.cycleDelay = window.cycleDelay || StateGlobal.timing.cycleDelay;\n    this.state.cycleDuration = window.cycleDuration || StateGlobal.timing.cycleDuration;\n    this.state.panelDisplayDelay = window.panelDisplayDelay || StateGlobal.timing.panelDisplayDelay;\n    this.state.panelTypeDelay = window.panelTypeDelay || StateGlobal.timing.panelTypeDelay;\n    this.state.productOpenDelay = window.productOpenDelay || StateGlobal.timing.productOpenDelay;\n    this.state.productResolveDelay = window.productResolveDelay || StateGlobal.timing.productResolveDelay;\n    this.state.hotspotList = window.hotspotsURL || window.hotspots || StateHotspots;\n    this.state.hooks = {\n      app: document.querySelector('#shopunit'),\n      panel: document.querySelector('#shop__panel'),\n      product: document.querySelector('#shop__panel_product'),\n      description: document.querySelector('#shop__panel_description'),\n      brand: document.querySelector('#shop__panel_brand'),\n      price: document.querySelector('#shop__panel_pricing #price'),\n      sale: document.querySelector('#shop__panel_pricing #sale'),\n      link: document.querySelector('#shop__panel_cta a')\n    };\n    window.lifecycles = {};\n  }\n\n  /**\n   * Property (parse) in ShopHotspot which parses the hotspot data from a variety of sources. This will get data from a remote URL, a global object, or an embedded object within the source.\n   * @function parse\n   * @memberof ShopHotspot\n   * @access public\n   * @param {Class} ShopHotspot\n   * @example\n   * ShopHotspot.parse()\n   * @returns {Class} ShopHotspot\n   */\n  parse() {\n    switch (true) {\n      case typeof this.state.hotspotList === 'string':\n        fetch(this.state.hotspotList)\n          .then(response => response.json())\n          .then(records => {\n            this.state.hotspotList = records;\n          });\n        break;\n      default:\n    }\n    return this;\n  }\n\n  /**\n   * Property (populate) in ShopHotspot which populates hotspots into the DOM based on the parsed hotspot data.\n   * @function populate\n   * @memberof ShopHotspot\n   * @access public\n   * @param {Class} ShopHotspot\n   * @example\n   * ShopHotspot.populate()\n   * @returns {Class} ShopHotspot\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  populate() {\n    this.state.hotspotList.hotspots.map((hotspot, index) => {\n      setTimeout(() => {\n        this.generate(\n          'hotspot',\n          `hotspot${index}`,\n          hotspot.id,\n          hotspot.polarity,\n          hotspot.styles,\n          hotspot.image,\n          hotspot.url,\n          JSON.stringify(hotspot.lifecycle),\n          JSON.stringify(hotspot.meta)\n        );\n      }, hotspot.pulseRate * Math.floor(Math.random() * this.state.hotspotList.hotspots.length));\n    });\n    return this;\n  }\n\n  /**\n   * Property (generate) in ShopHotspot which generates the inner-workings and respective logic of each hotspot.\n   * @function generate\n   * @memberof ShopHotspot\n   * @access public\n   * @param {Class} ShopHotspot\n   * @example\n   * ShopHotspot.generate('hotspot', hotspot${index}`, hotspot.id, hotspot.polarity, hotspot.styles, hotspot.image, hotspot.url, JSON.stringify(hotspot.meta))\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  generate(className, id, key, polarity, style, image, url, lifecycle, meta) {\n    const hotspot = document.createElement('div');\n    hotspot.className = className;\n    hotspot.id = id;\n    hotspot.key = key;\n    hotspot.dataset.image = image;\n    hotspot.dataset.url = url;\n    hotspot.dataset.meta = meta;\n    hotspot.dataset.polarity = polarity;\n    hotspot.dataset.lifecycle = lifecycle;\n    hotspot.onclick = (event, self = this) => {\n      meta = JSON.parse(hotspot.dataset.meta);\n      self.state.hooks.link.href = hotspot.dataset.url;\n      self.state.hooks.product.alt = [hotspot.dataset.image.match(/[a-z]+.png/g)];\n      self.state.hooks.product.src = hotspot.dataset.image;\n      self.state.hooks.brand.innerText = meta.brand;\n      self.state.hooks.price.innerText = meta.price;\n      self.state.hooks.sale.innerText = meta.sale ? 'Sale' : '';\n      self.state.hooks.app.classList.add('banner--paused');\n      this.animatePanel(hotspot);\n      this.animateProduct();\n      player.pause();\n      Object.keys(window.lifecycles).map(timer => {\n        window.lifecycles[`${timer}`].pause();\n      });\n    };\n    this.lifecycle(hotspot.id, hotspot);\n    Object.keys(style).map(rule => (hotspot.style[`${rule}`] = style[`${rule}`]));\n    document.querySelector('#shop__hotspots').appendChild(hotspot);\n  }\n\n  /**\n   *  Property (lifecycle) in ShopHotspot which controlls the lifecycle of each hotspot.\n   * @memberof ShopHotspot\n   * @param  {type} hotspot A shop hotspot.\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  lifecycle(id, hotspot) {\n    JSON.parse(hotspot.dataset.lifecycle).map((cycle, idx) => {\n      switch (Object.keys(cycle)[0]) {\n        case 'active':\n          window.lifecycles[`hotspot${hotspot.id}_timerA${idx}`] = new Timer(() => {\n            hotspot.style.display = 'block';\n          }, cycle.active);\n          break;\n        case 'inactive':\n          window.lifecycles[`hotspot${hotspot.id}_timerA${idx}`] = new Timer(() => {\n            hotspot.style.display = 'none';\n          }, cycle.inactive);\n          break;\n        default:\n      }\n    });\n  }\n\n  /**\n   * Property (checkPanel) in ShopHotspot which checks if the panel is open.\n   * @function checkPanel\n   * @memberof ShopHotspot\n   * @access public\n   * @param {null} None\n   * @example\n   * ShopHotspot.\n   * @returns {Boolean} returns boolean\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  checkPanel() {\n    return this.state.hooks.panel.className.match('open') === null;\n  }\n\n  /**\n   * Property (checkProduct) in ShopHotspot which checks to if the product has been shown.\n   * @function checkProduct\n   * @memberof ShopHotspot\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopHotspot.checkProduct()\n   * @returns {Boolean} returns boolean\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  checkProduct() {\n    return this.state.hooks.panel.className === 'opened';\n  }\n\n  /**\n   * Property (checkPolarity) in ShopHotspot which checks the polarity of the hotspot.\n   * @function checkPolarity\n   * @memberof ShopHotspot\n   * @access public\n   * @param {Object} hotspot hotspot data object\n   * @example\n   * ShopHotspot.checkPolarity()\n   * @returns {Boolean} returns boolean\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  checkPolarity(hotspot) {\n    return hotspot.dataset.polarity === 'bot';\n  }\n\n  /**\n   * Property (animatePanel) in ShopHotspot which triggers the panel animation.\n   * @function animatePanel\n   * @memberof ShopHotspot\n   * @access public\n   * @param {Object} hotspot hotspot data object\n   * @example\n   * ShopHotspot.animatePanel()\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  animatePanel(hotspot) {\n    setTimeout(this.updatePanel(hotspot), this.state.panelDisplayDelay);\n    new TypeIt('#shop__panel_description', {\n      strings: [JSON.parse(hotspot.dataset.meta).description],\n      speed: 10,\n      loop: false,\n      cursor: false,\n      startDelay: this.state.panelTypeDelay\n    }).go();\n  }\n\n  /**\n   * Property (animateProduct) in ShopHotspot which triggers the product animation.\n   * @function animateProduct\n   * @memberof ShopHotspot\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopHotspot.animateProduct()\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  animateProduct() {\n    switch (this.checkProduct()) {\n      case true:\n        this.animateProductOn();\n        break;\n      case false:\n        this.animateProductOff();\n        break;\n      default:\n    }\n  }\n\n  /**\n   * Property (animateProductOn) in ShopHotspot which triggers the 'ProductOn' state.\n   * @function animateProductOn\n   * @memberof ShopHotspot\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopHotspot.animateProductOn()\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  animateProductOn() {\n    this.state.hooks.product.className = 'closed';\n    setTimeout(() => {\n      this.state.hooks.product.className = 'open';\n    }, this.state.productOpenDelay);\n    setTimeout(() => {\n      this.state.hooks.product.className += ' opened';\n    }, this.state.productResolveDelay);\n  }\n\n  /**\n   * Property (animateProductOff) in ShopHotspot which triggers the 'ProductOff' state.\n   * @function animateProductOff\n   * @memberof ShopHotspot\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopHotspot.animateProductOff()\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  animateProductOff() {\n    this.state.hooks.product.className = 'open';\n    setTimeout(() => {\n      this.state.hooks.product.className += ' opened';\n    }, this.state.productOpenDelay);\n  }\n\n  /**\n   * Property (updatePanel) in ShopHotspot which triggers the 'updatePanel' state.\n   * @function updatePanel\n   * @memberof ShopHotspot\n   * @access public\n   * @param {object} hotspot hotspot data object\n   * @example\n   * ShopHotspot.updatePanel()\n   * @returns {null} no return value\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  updatePanel(hotspot) {\n    this.state.hooks.panel.className = this.checkPanel()\n      ? this.checkPolarity(hotspot)\n        ? 'open-bottom'\n        : 'open-top'\n      : this.state.hooks.panel.className;\n  }\n}\n","import StateGlobal from '../states/state.global';\n\nexport default class ShopPanel {\n  /**\n   * The ShopPanel Class.\n   * Property (constructor) in ShopPanel which creates the class object. This class manages the ShopPanel logic. This module requires the modules {@link module:StateGlobal}\n   * @classdesc This is a description of the ShopPanel class.\n   * @member {Function} ShopPanel\n   * @access public\n   * @constructs\n   * @requires module:StateGlobal\n   * @param {null} None no parameter\n   * @example\n   * new ShopPanel()\n   * @returns {Class} ShopPanel\n   * @property {object}  ShopPanel.state        \t\t\t\t\t\t- ShopPanel state object\n   * @property {number}  ShopPanel.state.initDrawDelay      - ShopPanel init Draw Delay\n   * @property {number}  ShopPanel.state.cycleDelay        \t- ShopPanel cycle Delay\n   * @property {number}  ShopPanel.state.cycleDuration      - ShopPanel cycle Duration\n   * @property {number}  ShopPanel.state.panelDisplayDelay  - ShopPanel panel Display Delay\n   * @property {object}  ShopPanel.state.hooks        \t\t\t- ShopPanel DOM elements\n   * @property {element}  ShopPanel.state.hooks.panel       - DOM element for shopPanel\n   * @property {element}  ShopPanel.state.hooks.close       - DOM element for shopPanel close button\n   * @property {element}  ShopPanel.state.hooks.cta        \t- DOM element for shopPanel cta\n   * @property {element}  ShopPanel.state.hooks.link        - DOM element for shopPanel cta link\n   * @author Alex Reid <https://github.com/aareid10>\n   * @see {@link http://github.com|https://code.espn.com/CreativeWorks-Internal/creativeworks-templates/tree/master/ads/vertical-shoppable-banner|GitHub Repo}\n   * @since 1.0.0\n   */\n  constructor() {\n    this.state = {};\n    this.state.initDrawDelay = StateGlobal.timing.initDrawDelay;\n    this.state.cycleDelay = window.cycleDelay || StateGlobal.timing.cycleDelay;\n    this.state.cycleDuration = window.cycleDuration || StateGlobal.timing.cycleDuration;\n    this.state.panelDisplayDelay = window.panelDisplayDelay || StateGlobal.timing.panelDisplayDelay;\n    this.state.hooks = {\n      app: document.querySelector('#shopunit'),\n      panel: document.querySelector('#shop__panel'),\n      close: document.querySelector('#shop__panel_close'),\n      cta: document.querySelector('#shop__panel_cta'),\n      link: document.querySelector('#shop__panel_cta a')\n    };\n  }\n\n  /**\n   * Property (handler) in ShopPanel which manages the event ShopPanel event handlers.\n   * @function handler\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.handler()\n   * @returns {null} no return value\n   */\n  handler() {\n    this.state.hooks.close.onclick = () => this.handleClose();\n    this.state.hooks.cta.onclick = e => this.handleCta(e);\n  }\n\n  /**\n   * Property (handleCta) in ShopPanel which registers the cta event handler.\n   * @function handleCta\n   * @memberof ShopPanel\n   * @access public\n   * @param {event} e event object\n   * @example\n   * ShopPanel.handleCta(e)\n   * @returns {null} no return value\n   */\n  handleCta(e) {\n    e.preventDefault();\n    this.state.hooks.cta.className = this.checkPanel() ? 'selected' : '';\n    this.checkPanel() ? setTimeout(this.resolveCta(this.state), this.state.panelClickOutDelay) : '';\n  }\n\n  /**\n   * Property (handleClose) in ShopPanel which registers the close event handler.\n   * @function handleClose\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.handleClose()\n   * @returns {null} no return value\n   */\n  handleClose() {\n    this.checkClose() ? this.state.hooks.close.setAttribute('class', 'selected') : '';\n    setTimeout(this.resolveClose(this.state), this.state.panelDisplayDelay);\n    Object.keys(window.lifecycles).map(timer => {\n      window.lifecycles[`${timer}`].resume();\n    });\n    this.state.hooks.app.classList.remove('banner--paused');\n    player.play();\n  }\n\n  /**\n   * Property (resolveCta) in ShopPanel which triggers the cta resolve state.\n   * @function resolveCta\n   * @memberof ShopPanel\n   * @access public\n   * @param {object} state state object\n   * @example\n   * ShopPanel.resolveCta(state)\n   * @returns {null} no return value\n   */\n  resolveCta(state) {\n    state.hooks.cta.className = '';\n    window.open(state.hooks.link.href);\n  }\n\n  /**\n   * Property (resolveClose) in ShopPanel which triggers the close resolve state.\n   * @function resolveClose\n   * @memberof ShopPanel\n   * @access public\n   * @param {object} state state object\n   * @example\n   * ShopPanel.resolveClose(state)\n   * @returns {null} no return value\n   */\n  resolveClose(state) {\n    state.hooks.panel.className = this.checkPolarity() ? 'closed-bottom' : 'closed-top';\n    state.hooks.close.setAttribute('class', '');\n  }\n\n  /**\n   * Property (checkPanel) in ShopPanel which checks if the panel is open.\n   * @function checkPanel\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.checkPanel()\n   * @returns {Boolean} returns boolean\n   */\n  checkPanel() {\n    return this.state.hooks.panel.className.match('open') !== null;\n  }\n\n  /**\n   * Property (checkPolarity) in ShopPanel which checks the polarity of the hotspot.\n   * @function checkPolarity\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.checkPolarity()\n   * @returns {Boolean} returns boolean\n   */\n  checkPolarity() {\n    return this.state.hooks.panel.className.match('bottom') !== null;\n  }\n\n  /**\n   * Property (checkCta) in ShopPanel which checks the state of the cta animation.\n   * @function checkCta\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.checkCta()\n   * @returns {Boolean} returns boolean\n   */\n  checkCta() {\n    return this.state.hooks.cta.className !== 'selected';\n  }\n\n  /**\n   * Property (checkClose) in ShopPanel which checks the state of the close animation.\n   * @function checkClose\n   * @memberof ShopPanel\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * ShopPanel.checkClose()\n   * @returns {Boolean} returns boolean\n   */\n  checkClose() {\n    return this.state.hooks.close.className !== 'selected';\n  }\n}\n","import Player from '@vimeo/player';\nimport StateGlobal from '../states/state.global';\nimport StateHotspots from '../data/hotspots.json';\nimport ShopHotspot from './shopHotspot';\nimport ShopPanel from './shopPanel';\n\nexport default class ShopPlayer {\n  /**\n   * Property (constructor) in ShopPlayer which creates the class object.\n   * @classdesc This is a description of the ShopPlayer class. This module manages the ShopHotspot logic. This module requires the modules {@link module:StateGlobal} {@link module:ShopHotspots}.\n   * @member {Function} ShopPlayer\n   * @constructs\n   * @requires module:@vimeo/player\n   * @requires module:StateGlobal\n   * @requires module:ShopHotspot\n   * @param {null} None no parameter\n   * @example\n   * new ShopPlayer()\n   * @returns {Class} ShopPlayer\n   * @property {object}  ShopPlayer.state  - ShopHotspot state object\n   * @author Alex Reid <https://github.com/aareid10>\n   * @see {@link http://github.com|https://code.espn.com/CreativeWorks-Internal/creativeworks-templates/tree/master/ads/vertical-shoppable-banner|GitHub Repo}\n   * @since 1.0.0\n   */\n  constructor() {\n    this.state = {\n      host: 'https://player.vimeo.com/video/',\n      ready: new Event('vimeoplayer--ready')\n    };\n    this.state.hotspotList = window.hotspotsURL || window.hotspots || StateHotspots;\n    this.hooks = {\n      vimeoplayer: document.querySelector('#shop__bg__player'),\n      app: document.querySelector('#shopunit')\n    };\n  }\n\n  /**\n   * The initialize property. This sets up the background player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {null} None no parameter\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  initialize() {\n    /**\n     * vimeoplayer Listener - description.\n     * @method\n     * @param {module:ShopPlayer~event:vimeoplayer--ready} e - An Status event.\n     * @listens module:ShopPlayer~event:vimeoplayer--ready\n     * @since 1.0.0\n     */\n    this.hooks.vimeoplayer.addEventListener(\n      'vimeoplayer--ready',\n      e => {\n        setTimeout(() => {\n          this.hooks.vimeoplayer.className = 'shop__bg__player--ready';\n          return e.data;\n        }, 500);\n      },\n      false\n    );\n\n    return this;\n  }\n\n  /**\n   * The initialize property. This adjusts and runs the background player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {null} None no parameter\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  resolve() {\n    this.hooks.vimeoplayer.src =\n      this.state.host + this.state.hotspotList.video.id + this.state.hotspotList.video.params;\n    window.player = new Player(this.hooks.vimeoplayer);\n\n    /**\n     * vimeoplayer--ready - Signal that the Vimeo Embed is ready to be displayed.\n     * @event vimeoplayer--ready\n     * @type {object}\n     * @property {object} Vimeo Player Instance - updated property.\n     * @since 1.0.0\n     */\n    this.hooks.vimeoplayer.dispatchEvent(this.state.ready);\n\n    return this;\n  }\n\n  /**\n   * The reset property. This resets hotspots asssociated with the player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {null} None no parameter\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  reset() {\n    document.querySelectorAll('.hotspot').forEach(item => item.remove());\n    setTimeout(() => {\n      new ShopHotspot().parse().populate();\n    }, StateGlobal.timing.cycleDelay);\n    this.state.cycleStart = new Date();\n    if (window.shopunit.logging) console.warn('Hotspots Reset');\n  }\n\n  /**\n   * The execute property. This tracks and maniplulates hotspots lifecycles in relation to the playback duration.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {null} None no parameter\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  execute() {\n    this.state.cycleStart = new Date();\n    new ShopHotspot().parse().populate();\n    new ShopPanel().handler();\n    setInterval(() => {\n      if (!this.isPaused()) {\n        if (window.shopunit.logging)\n          console.warn(`video not paused. time remaining ${this.state.remaining}. waiting....`);\n        this.state.remaining = this.checkInterval();\n        if (this.isFinshed()) {\n          this.reset();\n          if (window.shopunit.logging) console.warn('resetting....');\n        }\n      } else {\n        if (window.shopunit.logging)\n          console.warn(`video still paused. time remaining ${this.state.remaining} waiting....`);\n        this.state.cycleStart = new Date(Date.now() - (StateHotspots.video.length - this.state.remaining));\n      }\n    }, StateGlobal.timing.cycleDelay);\n  }\n\n  /**\n   * The isPaused property. This adjusts and runs the background player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {null}  whether or not the player is currently paused.\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  isPaused() {\n    return this.hooks.app.classList.contains('banner--paused');\n  }\n\n  /**\n   * The isFinshed property. This adjusts and runs the background player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {Boolean} whether or not the total playback time has been reached.\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  isFinshed() {\n    return this.state.remaining <= 0;\n  }\n\n  /**\n   * The checkInterval property. This adjusts and runs the background player.\n   * @memberof ShopPlayer\n   * @param {null} None no parameter\n   * @return {Number} Time remaining for the main player in milliseconds.\n   * @throws will never throw an error.\n   * @since 1.0.0\n   */\n  checkInterval() {\n    return StateHotspots.video.length - (new Date() - this.state.cycleStart);\n  }\n}\n","/**\n * This module manages the generall App logic. This module requires the modules {@link module:StateGlobal} {@link module:ShopHotspot} {@link module:ShopPanel}.\n * @module\n * @requires module:StateGlobal\n * @requires module:ShopHotspot\n * @requires module:ShopPanel\n * @property {element}  shopunit.app        - Top-level app DOM element\n * @property {element}  shopunit.flexFonts  - DOM element list of dynamic font candidates.\n * @see {@link http://github.com|https://code.espn.com/CreativeWorks-Internal/creativeworks-templates/tree/master/ads/vertical-shoppable-banner|GitHub Repo}\n * @since 1.0.0\n */\n\nimport StateGlobal from '../states/state.global';\nimport ShopPlayer from '../classes/shopPlayer';\n\nconst shopunit = {\n  app: document.querySelector('#shopunit'),\n  flexFonts: document.querySelectorAll('.flexFont'),\n\n  /**\n   * Member function (init) in app which manages the app initialization.\n   * @function initialize\n   * @access public\n   * @param {string} macro Ad Macro string\n   * @param {element} elem DOM Element\n   * @example\n   * app.init()\n   * @returns {null} no return value\n   */\n  initialize(macro, elem) {\n    shopunit.flexFontInit();\n    shopunit.flexFontRefresh();\n    shopunit.preloadImages();\n    shopunit.clickThroughLink(macro, elem);\n  },\n\n  /**\n   * Member function (flexFontRefresh) in app which manages the dynamic font resize. This method actallu applies the newly caluclated font size.\n   * @function flexFontRefresh\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * app.flexFontRefresh()\n   * @returns {null} no return value\n   */\n  flexFontRefresh() {\n    for (let i = 0; i < shopunit.flexFonts.length; i++) {\n      const getFontPerc = shopunit.flexFonts[i].getAttribute('data-fontPerc');\n      const relFontsize = document.getElementById('shopunit').offsetWidth * getFontPerc;\n      shopunit.flexFonts[i].style.fontSize = `${relFontsize}px`;\n    }\n  },\n\n  /**\n   * Member function (flexFontInit) in app which manages the dynamic font resize.\n   * @function flexFontInit\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * app.flexFontInit()\n   * @returns {null} no return value\n   */\n  flexFontInit() {\n    for (let i = 0; i < shopunit.flexFonts.length; i++) {\n      const currFontSize = window.getComputedStyle(shopunit.flexFonts[i], null).fontSize;\n      const fontPerc = parseInt(currFontSize) / 640;\n      shopunit.flexFonts[i].setAttribute('data-fontPerc', fontPerc);\n    }\n  },\n\n  /**\n   * Member function (configClickThrough) in app which manages the clickThrough routing logic.\n   * @function clickThroughConfig\n   * @access public\n   * @param {string} url Desired click-through URL.\n   * @example\n   * app.configClickThrough()\n   * @returns {null} no return value\n   */\n  clickThroughConfig(url) {\n    if (typeof window.parent.app === 'object') {\n      if (typeof window.parent.app.ads === 'object') {\n        event.preventDefault();\n        if (shopunit.dfpAdID !== undefined) {\n          if (navigator.userAgent.toLowerCase().indexOf('android') > -1) {\n            window.parent.app.ads.clickThrough(`${url}?ord=${shopunit.cacheBust}`, shopunit.dfpAdID);\n          } else {\n            window.parent.app.ads.clickThrough(url, shopunit.dfpAdID);\n          }\n        } else if (navigator.userAgent.toLowerCase().indexOf('android') > -1) {\n          window.parent.app.ads.clickThrough(`${url}?ord=${shopunit.cacheBust}`);\n        } else {\n          window.parent.app.ads.clickThrough(url);\n        }\n      } else {\n        window.open(url, '_blank');\n      }\n    } else if (typeof mraid !== 'undefined') {\n      mraid.open(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  },\n\n  /**\n   * Member function (preloadImages) in app which manages the event app image preloading.\n   * @function preloadImages\n   * @access public\n   * @param {null} None no parameter\n   * @example\n   * app.preloadImages()\n   * @returns {null} no return value\n   */\n  preloadImages() {\n    const imgs = document.getElementsByTagName('img');\n    const imgArr = [];\n    let imgLoaded = 0;\n    let i;\n    let j;\n\n    for (i = 0; i < imgs.length; i++) {\n      imgArr.push(imgs[i].src);\n    }\n\n    const imgTotal = imgArr.length;\n\n    for (j = 0; j < imgTotal; j++) {\n      const image = new Image();\n      image.src = imgArr[j];\n      image.onload = function() {\n        imgLoaded++;\n        if (imgLoaded === imgTotal) {\n          shopunit.app.classList.add('banner--ready');\n        }\n      };\n    }\n  },\n\n  /**\n   * Member function (linkClickThrough) in app which manages the clickThrough setup logic.\n   * @function clickThroughLink\n   * @access public\n   * @param {string} macro Ad Macro string.\n   * @param {element} elem DOM Element\n   * @example\n   * app.linkClickThrough()\n   * @returns {null} no return value\n   */\n  clickThroughLink(macro, elem) {\n    const clickTag = macro;\n    const clickArea = document.getElementById(elem);\n    if (window.shopunit.logging) console.warn('clickArea:', elem);\n    clickArea.addEventListener('click', clickThrough);\n    function clickThrough() {\n      setTimeout(() => {\n        shopunit.clickThroughConfig(clickTag);\n      }, StateGlobal.timing.destinationDelay);\n    }\n  }\n};\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  if (window.shopunit.logging) console.warn('Application Initialized');\n  if (window.shopunit.logging) console.warn('Cycle Delay: ', window.cycleDelay || StateGlobal.timing.cycleDelay);\n  if (window.shopunit.logging)\n    console.warn('Cycle Duration: ', window.cycleDuration || StateGlobal.timing.cycleDuration);\n  if (window.shopunit.logging)\n    console.warn('Panel Display Delay: ', window.panelDisplayDelay || StateGlobal.timing.panelDisplayDelay);\n  if (window.shopunit.logging)\n    console.warn('Panel Type Delay: ', window.panelTypeDelay || StateGlobal.timing.panelTypeDelay);\n  if (window.shopunit.logging)\n    console.warn('Product Open Delay: ', window.productOpenDelay || StateGlobal.timing.productOpenDelay);\n  if (window.shopunit.logging)\n    console.warn('Product Resolve Delay: ', window.productResolveDelay || StateGlobal.timing.productResolveDelay);\n  new ShopPlayer()\n    .initialize()\n    .resolve()\n    .execute();\n});\nwindow.shopunit = shopunit;\nwindow.shopunit.logging = false;\nmodule.exports = shopunit;\n"]}